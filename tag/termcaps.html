<!doctype html>
<html lang="en">
<head>
    <meta name="description" content="Abraham Guimbao's portfolio"/>
		<title>abguimba &mdash; Articles tagged termcaps</title>
		<meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      function checkDarkMode() {
      if (sessionStorage.getItem('mode')) {
        var body = document.getElementById("body");
        var currentClass = body.className;
        body.className = currentClass = sessionStorage.getItem('mode');
        if (body.className == 'dark-mode') {
          document.getElementById("dark-mode-button").innerText = "ðŸŒž";
        }
      }
      else {
        sessionStorage.setItem('mode', 'light-mode');
      }
    }
    </script>
    <script>
      function toggleDarkLight() {
      var body = document.getElementById("body");
      var currentClass = body.className;
      body.className = currentClass == "dark-mode" ? "light-mode" : "dark-mode";
        if (document.getElementById("dark-mode-button").innerText == "ðŸŒ›")
      {
        document.getElementById("dark-mode-button").innerText = "ðŸŒž";
        document.getElementById("dark-mode-button").style.fontSize = "1.5em";
        sessionStorage.setItem('mode', 'dark-mode');
      }
      else
      {
        document.getElementById("dark-mode-button").innerText = "ðŸŒ›";
        document.getElementById("dark-mode-button").style.fontSize = "1.5em";
        sessionStorage.setItem('mode', 'light-mode');
      }
    }
    </script>
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="https://abguimba.github.io/theme/css/style.css" />
		<link rel='stylesheet' id='oswald-css'  href='https://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="abguimba â€” Flux Atom"
			href="https://abguimba.github.io/" /> 
		<!--[if lte IE 8]><script src="https://abguimba.github.io/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body id="body" onload="checkDarkMode()" class="light-mode" class="home blog custom-background single-author" >
  <div class="darkbutton">
    <button id="dark-mode-button" type="button" name="dark_light" onclick="toggleDarkLight()" title="Toggle dark/light mode" style="font-size: 1.5em;">ðŸŒ›</button>
  </div> 
  
  <div id="container">
		<div id="header">
				<h1 id="site-title">abguimba</h1>
<h2 id="site-description">Portfolio</h2>		</div><!-- /#banner -->
	  <img id="codewars-badge" src="https://www.codewars.com/users/abguimba/badges/small"/>	
	  	
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
					<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://github.com/abguimba"></a></li>
					<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.linkedin.com/in/abraham-guimbao-parra"></a></li>
					<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.twitter.com/abguimba"></a></li>
					<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://abguimba.github.io/AbrahamGuimbaoCV.en.pdf"></a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://42.fr/">42</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="mailto:abrahamguimbao@gmail.com">@</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://abguimba.github.io/AbrahamGuimbaoCV.es.pdf">CV(es)</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://abguimba.github.io/AbrahamGuimbaoCV.fr.pdf">CV(fr)</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://abguimba.github.io/AbrahamGuimbaoCV.en.pdf">CV(en)</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.codewars.com/users/abguimba">CodeWars</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://stackoverflow.com/users/10463714/abraham-guimbao?tab=profile">Stack-Overflow</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.linkedin.com/in/abraham-guimbao-parra">Linkedin</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://github.com/abguimba">Github</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://gitlab.com/abguimba">Gitlab</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.twitter.com/abguimba">Twitter</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://keybase.io/abguimba">Keybase</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://abguimba.github.io/aboutme">About</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://abguimba.github.io">Home</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
<div class="page-title">
	<h2><span>termcaps</span> Projects</h2>
</div>
		</div>


		<div id="contents">
<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://abguimba.github.io/Taskmaster.html">2019</a></div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="https://abguimba.github.io/Taskmaster.html" title="Permalink to Taskmaster" rel="bookmark">Taskmaster</a>
		</h2>
		<div class="entry-content">
			<p><em>Tasks&nbsp;Supervisor</em></p>
<p>@42Born2Code</p>
<p>In this 42 project we were asked to create a basic version of <a href="https://github.com/Supervisor/supervisor">supervisor</a>.</p>
<p>Basic task manager that reads from a config.json file and supervises a number of processes.
We were restricted to our language of choiceâ€™s standard library. Except for the config file&nbsp;parsing.</p>
<p>The script reads the tasks parameters from the json file, and executes some kind of user prompt to effectively manage these&nbsp;tasks.</p>
<p>The only argument needed is a config file. All info about making your own config file is in&nbsp;exampleconfig.json.</p>
<h2>Project&nbsp;partners</h2>
<ul>
<li><a href="https://github.com/abguimba">Abraham&nbsp;Gimbao</a></li>
<li><a href="https://github.com/mjose-portfolio">Marc&nbsp;Jose</a></li>
</ul>
<h2>Install</h2>
<ul>
<li>Not&nbsp;needed.</li>
</ul>
<h2>Configuration</h2>
<ul>
<li>Create a file in json format with the following&nbsp;characteristics:</li>
</ul>
<div class="highlight"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">programs</span><span class="s2">&quot;</span>: {                   #<span class="nv">a</span> <span class="nv">list</span> <span class="nv">of</span> <span class="nv">programs</span>
        <span class="s2">&quot;</span><span class="s">sleep</span><span class="s2">&quot;</span>: {                  #<span class="nv">the</span> <span class="nv">name</span> <span class="nv">of</span> <span class="nv">a</span> <span class="nv">program</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">cmd</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep 1000</span><span class="s2">&quot;</span>,    #<span class="nv">the</span> <span class="nv">exact</span> <span class="nv">command</span> <span class="nv">to</span> <span class="nv">launch</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">cmdammount</span><span class="s2">&quot;</span>: <span class="mi">10</span>,       #<span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">times</span> <span class="nv">you</span> <span class="nv">need</span> <span class="nv">to</span> <span class="nv">launch</span> <span class="nv">this</span> <span class="nv">process</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">autostart</span><span class="s2">&quot;</span>: <span class="nv">true</span>,      #<span class="nv">cmd</span> <span class="nv">started</span> <span class="nv">at</span> <span class="nv">launch</span> <span class="nv">True</span><span class="o">/</span><span class="nv">False</span>? <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">autorestart</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">never</span><span class="s2">&quot;</span>, #<span class="nv">restart</span> <span class="nv">this</span> <span class="nv">program</span> <span class="nv">on</span> <span class="s2">&quot;</span><span class="s">never</span><span class="s2">&quot;</span>, <span class="s2">&quot;</span><span class="s">always</span><span class="s2">&quot;</span>, <span class="nv">or</span> <span class="nv">on</span> <span class="s2">&quot;</span><span class="s">unexpected</span><span class="s2">&quot;</span> <span class="nv">termination</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">starttime</span><span class="s2">&quot;</span>: <span class="mi">5</span>,         #<span class="nv">amount</span> <span class="nv">of</span> <span class="nv">time</span> <span class="nv">to</span> <span class="nv">go</span> <span class="nv">by</span> <span class="nv">before</span> <span class="nv">the</span> <span class="nv">program</span> <span class="nv">is</span> <span class="nv">considered</span> <span class="s2">&quot;</span><span class="s">succesfully started</span><span class="s2">&quot;</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">stoptime</span><span class="s2">&quot;</span>: <span class="mi">10</span>,         #<span class="nv">amount</span> <span class="nv">of</span> <span class="nv">time</span> <span class="nv">to</span> <span class="nv">go</span> <span class="nv">by</span> <span class="nv">after</span> <span class="nv">sending</span> <span class="nv">quitsit</span> <span class="nv">to</span> <span class="nv">program</span> <span class="nv">before</span> <span class="nv">killing</span> <span class="nv">it</span> <span class="nv">completely</span> <span class="nv">with</span> <span class="nv">SIGKILL</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">restartretries</span><span class="s2">&quot;</span>: <span class="mi">3</span>,    #<span class="nv">amount</span> <span class="nv">of</span> <span class="nv">times</span> <span class="nv">a</span> <span class="nv">program</span> <span class="nv">will</span> <span class="nv">be</span> <span class="nv">tried</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">restarted</span> <span class="nv">or</span> <span class="nv">started</span> <span class="nv">at</span> <span class="nv">the</span> <span class="nv">beginning</span> <span class="nv">before</span> <span class="nv">giving</span> <span class="nv">up</span> <span class="nv">on</span> <span class="nv">it</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">quitsig</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">TERM</span><span class="s2">&quot;</span>,      #<span class="nv">signal</span> <span class="nv">that</span> <span class="nv">will</span> <span class="nv">be</span> <span class="nv">sent</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">command</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">gracefully</span> <span class="nv">exited</span> <span class="ss">(</span><span class="nv">QUIT</span>, <span class="nv">TERM</span>, <span class="nv">INT</span>, <span class="nv">KILL</span><span class="ss">)</span> <span class="o">*</span><span class="nv">Required</span><span class="o">*</span>
            <span class="s2">&quot;</span><span class="s">exitcodes</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">None</span><span class="s2">&quot;</span>,    #<span class="nv">exitcodes</span> <span class="nv">that</span> <span class="nv">define</span> <span class="nv">an</span> <span class="nv">expected</span> <span class="nv">termination</span> <span class="k">for</span> <span class="nv">use</span> <span class="nv">autorestart</span> <span class="nv">or</span> <span class="nv">None</span> <span class="k">for</span> <span class="nv">all</span> <span class="nv">exitcodes</span> <span class="nv">being</span> <span class="nv">considered</span> <span class="nv">unexpected</span>
            <span class="s2">&quot;</span><span class="s">workingdir</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">/tmp/</span><span class="s2">&quot;</span>,  #<span class="nv">working</span> <span class="nv">directory</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">set</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">command</span> <span class="nv">or</span> <span class="nv">None</span> <span class="k">for</span> <span class="nv">same</span> <span class="nv">working</span> <span class="nv">dir</span> <span class="nv">as</span> <span class="nv">parent</span><span class="ss">(</span><span class="nv">taskmaster</span><span class="ss">)</span>
            <span class="s2">&quot;</span><span class="s">umask</span><span class="s2">&quot;</span>: <span class="mi">0</span>,             #<span class="nv">umask</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">set</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">program</span> <span class="nv">or</span> <span class="nv">None</span> <span class="ss">(</span><span class="nv">in</span> <span class="nv">decimal</span> <span class="ss">(</span><span class="nv">integer</span><span class="ss">)</span><span class="o">!</span><span class="ss">)</span>
            <span class="s2">&quot;</span><span class="s">stdout</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">None</span><span class="s2">&quot;</span>,       #<span class="nv">option</span> <span class="nv">to</span> <span class="nv">redirect</span> <span class="nv">stdout</span> <span class="nv">to</span> <span class="nv">file</span> <span class="nv">or</span> <span class="nv">to</span> <span class="nv">simple</span> <span class="nv">discard</span> <span class="nv">it</span> <span class="nv">with</span> <span class="s2">&quot;</span><span class="s">discard</span><span class="s2">&quot;</span> <span class="nv">or</span> <span class="nv">None</span>
            <span class="s2">&quot;</span><span class="s">stderr</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">None</span><span class="s2">&quot;</span>,       #<span class="nv">option</span> <span class="nv">to</span> <span class="nv">redirect</span> <span class="nv">stderr</span> <span class="nv">to</span> <span class="nv">file</span> <span class="nv">or</span> <span class="nv">to</span> <span class="nv">simple</span> <span class="nv">discard</span> <span class="nv">it</span> <span class="nv">with</span> <span class="s2">&quot;</span><span class="s">discard</span><span class="s2">&quot;</span> <span class="nv">or</span> <span class="nv">None</span>
            <span class="s2">&quot;</span><span class="s">env</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">None</span><span class="s2">&quot;</span>           #<span class="nv">extra</span> <span class="nv">env</span> <span class="nv">parameters</span> <span class="nv">to</span> <span class="nv">provide</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">new</span> <span class="nv">process</span>, <span class="s2">&quot;</span><span class="s">None</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="nv">no</span> <span class="nv">environment</span> <span class="nv">at</span> <span class="nv">all</span>, <span class="nv">or</span> <span class="s2">&quot;</span><span class="s">default</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">env</span> <span class="nv">as</span> <span class="nv">taskmaster</span>
        }
    }
}
</pre></div>


<h2>Launching&nbsp;method</h2>
<ul>
<li><code>python3 taskmaster.py config_files/&lt;yourconfig&gt;.json</code></li>
</ul>
<h2>Commands</h2>
<ul>
<li><code>help</code>: List available commands with &#8220;help&#8221; or detailed help with &#8220;help&nbsp;cmd&#8221;.</li>
<li><code>help &lt;command&gt;</code>: Prints the description and the method of use of the&nbsp;command.</li>
<li><code>start &lt;program&gt;</code>: Starts desired program(s). Usage -&gt; start <program name(s)></li>
<li><code>stop &lt;program&gt;</code>: Stops desired program(s). Usage -&gt; stop <program name(s)></li>
<li><code>restart &lt;program&gt;</code>: Restarts desired program(s) that has already been launched. Usage -&gt; restart <program name(s)></li>
<li><code>reload</code>: Reloads the whole configuration. Usage -&gt;&nbsp;reload</li>
<li><code>display</code>: Opens a window that shows the pre-loaded configuration and the status of the programs to be&nbsp;monitored.</li>
</ul>
<h2>Examples</h2>
<p><img src="/images/Taskmaster01.gif" alt="Taskmaster01" width="700"/>
<img src="/images/Taskmaster02.gif" alt="Taskmaster02" width="700"/>
<img src="/images/Taskmaster03.gif" alt="Taskmaster03" width="700"/>
<img src="/images/Taskmaster04.gif" alt="Taskmaster04" width="700"/></p>
<p><a href="https://github.com/abguimba/42-taskmaster">Try it on&nbsp;Github!</a></p>
<p><a href="PDFs/42-taskmaster.en.pdf">42sh&nbsp;subject</a></p>
<p><a href="https://github.com/Binary-Hackers/42_Subjects/blob/master/04_Norme/norme_2_0_1.pdf">Norminette&nbsp;subject</a></p>
<p><a href="https://github.com/agavrel/42_Subjects">Every 42&nbsp;subject</a></p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="https://abguimba.github.io/tag/42.html" rel="tag">42</a>,  <a href="https://abguimba.github.io/tag/c.html" rel="tag">C</a>,  <a href="https://abguimba.github.io/tag/daemon.html" rel="tag">daemon</a>,  <a href="https://abguimba.github.io/tag/job-control.html" rel="tag">job-control</a>,  <a href="https://abguimba.github.io/tag/python.html" rel="tag">python</a>,  <a href="https://abguimba.github.io/tag/shell.html" rel="tag">shell</a>,  <a href="https://abguimba.github.io/tag/termcaps.html" rel="tag">termcaps</a>,  <a href="https://abguimba.github.io/tag/unix.html" rel="tag">Unix</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://abguimba.github.io/ft_select.html">2019</a></div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="https://abguimba.github.io/ft_select.html" title="Permalink to ft_select" rel="bookmark">ft_select</a>
		</h2>
		<div class="entry-content">
			<p><em>Small TermCaps&nbsp;program</em></p>
<p>@42Born2Code</p>
<p>This project was meant to make us code a small program using termcaps which will allow us to pick from a list of choices and return it to our&nbsp;shell.</p>
<p><img src="/images/ft_select01.gif" alt="ft_select01" width="700"/></p>
<p><a href="https://github.com/abguimba/42-ft_select">Try it on&nbsp;Github!</a>  </p>
<p>Just a&nbsp;simple</p>
<div class="highlight"><pre><span></span>$ make
</pre></div>


<p>should be enough to get you started with an&nbsp;executable.</p>
<p><a href="PDFs/42-ft_select.en.pdf">ft_select&nbsp;subject</a></p>
<p><a href="https://github.com/Binary-Hackers/42_Subjects/blob/master/04_Norme/norme_2_0_1.pdf">Norminette&nbsp;subject</a></p>
<p><a href="https://github.com/agavrel/42_Subjects">Every 42&nbsp;subject</a></p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="https://abguimba.github.io/tag/42.html" rel="tag">42</a>,  <a href="https://abguimba.github.io/tag/c.html" rel="tag">C</a>,  <a href="https://abguimba.github.io/tag/shell.html" rel="tag">shell</a>,  <a href="https://abguimba.github.io/tag/termcaps.html" rel="tag">TermCaps</a>,  <a href="https://abguimba.github.io/tag/unix.html" rel="tag">Unix</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post-->		</div>
		<div id="footer">
			<p>Website powered by Pelican. Theme is a modified version of Chunk by onlyhavecans</p>
		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
	<canvas id="map"></canvas>

	<script src="pagemap.min.js"></script>
	 <script>
	pagemap(document.querySelector('#map'));
	</script>
</body>
</html>